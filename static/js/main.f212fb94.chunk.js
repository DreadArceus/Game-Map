(this["webpackJsonpgame-map"]=this["webpackJsonpgame-map"]||[]).push([[0],{111:function(t,e,n){},112:function(t,e,n){},170:function(t,e,n){"use strict";n.r(e);var c=n(0),a=n.n(c),i=n(18),o=n.n(i),r=(n(111),n(31)),u=(n(112),n(71)),s=function(t){var e=Object(c.useState)({latitude:-1,longitude:-1}),n=Object(r.a)(e,2),a=n[0],i=n[1],o=Object(c.useState)(""),s=Object(r.a)(o,2),d=s[0],l=s[1];return Object(c.useEffect)((function(){var t=navigator.geolocation,e=t.watchPosition((function(t){var e=t.coords;return i({latitude:e.latitude,longitude:e.longitude})}),(function(t){l(t.message)}));return function(){return t.clearWatch(e)}}),[]),Object(u.a)(Object(u.a)({},a),{},{error:d})},d=n(96),l=n.n(d),j=n(186),b=n(187),h=n(185),f=n(97),p=n.n(f),g=n(5),O=p()({root:{color:"white"},item:{border:"2px white solid"}}),m=function(t){var e=O();return Object(g.jsxs)(b.a,{className:e.item,children:[Object(g.jsx)(h.a,{children:t.index}),Object(g.jsxs)(h.a,{children:["Latitude: ",t.latitude]}),Object(g.jsxs)(h.a,{children:["Longitude: ",t.longitude]})]})},x=function(t){var e=O();return Object(g.jsx)(j.a,{className:e.root,children:t.activeLocations.map((function(t,e){return Object(g.jsx)(m,{index:e,latitude:t.latitude,longitude:t.longitude})}))})},v=n(101),w=n(188),y=n.p+"static/media/map-img.e54f4fe1.png",L=36.341379,k=65.590508,S=8.714294,P=96.804201,E=function(t){return Object(g.jsx)(w.a,{width:898,height:875,border:"2px white solid",style:{backgroundImage:"url(".concat(y,")")},children:function(){var e,n=[],c=[875/(L-S),898/(P-k)],a=Object(v.a)(t.activeLocations);try{for(a.s();!(e=a.n()).done;){var i=e.value;n.push([(L-i.latitude)*c[0],(i.longitude-k)*c[1]])}}catch(u){a.e(u)}finally{a.f()}for(var o=[],r=0;r<n.length;r++)o.push(Object(g.jsx)(w.a,{width:15,height:15,margin:0,marginTop:"".concat(n[r][0],"px"),marginLeft:"".concat(n[r][1],"px"),border:"2px black solid",borderRadius:"50%",position:"absolute",fontSize:"11px",children:r}));return o}()})},F=n(58),C=n(69),I=n.n(C),N=n(184),T=l()("https://game-map-dread.herokuapp.com/",{transports:["websocket"]}),A=I()({palette:{type:"dark",text:{primary:"white"}}});var B=function(){var t=s(),e=Object(c.useState)({}),n=Object(r.a)(e,2),a=n[0],i=n[1],o=Object(c.useState)([]),u=Object(r.a)(o,2),d=u[0],l=u[1];return Object(c.useEffect)((function(){T.on("list-update",(function(t){l(Object.values(t))}))}),[]),Object(c.useEffect)((function(){t.latitude===a.latitude&&t.longitude===a.longitude&&t.error===a.error||(T.emit("coord-update",t),i(t))}),[t,a]),Object(g.jsx)("div",{className:"App",children:Object(g.jsxs)(N.a,{theme:A,children:[Object(g.jsxs)(F.a,{color:"textPrimary",children:["Your location: (",t.latitude,", ",t.longitude,")"]}),Object(g.jsx)(F.a,{color:"textPrimary",children:"All connected locations:"}),Object(g.jsx)(x,{activeLocations:d}),Object(g.jsx)(F.a,{color:"textPrimary",children:"Map:"}),Object(g.jsx)(E,{activeLocations:d})]})})},J=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,189)).then((function(e){var n=e.getCLS,c=e.getFID,a=e.getFCP,i=e.getLCP,o=e.getTTFB;n(t),c(t),a(t),i(t),o(t)}))};o.a.render(Object(g.jsx)(a.a.StrictMode,{children:Object(g.jsx)(B,{})}),document.getElementById("root")),J()}},[[170,1,2]]]);
//# sourceMappingURL=main.f212fb94.chunk.js.map